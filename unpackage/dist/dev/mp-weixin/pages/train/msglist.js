require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([1],{153:function(t,e,s){"use strict";var o=i(s(1)),n=i(s(154));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(n.default))},154:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(156),n=s.n(o),i=s(161),a=!1;var l=function(t){a||s(155)},r=s(0)(n.a,i.a,l,null,null);r.options.__file="C:\\Users\\Admin\\Desktop\\devFire\\pages\\train\\msglist.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] msglist.vue: functional components are not supported with templates, they should use render functions."),e.default=r.exports},155:function(t,e){},156:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},n=l(s(3)),i=l(s(157)),a=s(4);function l(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{pushlist:[],lifecat:"",totallist:[],loadingType:0,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},page:1}},computed:o({},(0,a.mapState)(["user"])),methods:{islogin:function(){null!==this.user.user||t.reLaunch({url:"../../pages/manage/login"})},message:function(e){t.navigateTo({url:"trainmessage?pushid="+e})},getpush:function(e){var s=this;t.request({url:n.default.hosturl+"index/getpush.html",method:"POST",data:{token:this.user.user.token,lifecat:this.lifecat,page:e},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){0==e.data.code?(s.pushlist=e.data.list,e.data.list.forEach(function(t,e){s.totallist.push(t)})):t.showToast({icon:"none",title:"出错啦，请联系客服"})},fail:function(){t.showToast({icon:"none",title:"网络错误"})}})},add:function(e,s){console.log(s);t.request({url:n.default.hosturl+"index/checkpush.html",method:"POST",data:{token:this.user.user.token,pushid:s},header:{"content-type":"application/x-www-form-urlencoded"},success:function(o){if(console.log(JSON.stringify(o.data)),0==o.data.code){var n={lifecat:e,pushid:s};return 1==o.data.result?void t.navigateTo({url:"add?param="+JSON.stringify(n)}):2==o.data.result?void t.showToast({icon:"none",title:"任务已过期"}):3==o.data.result?void t.showToast({icon:"none",title:"您所属的中队已经完成该任务啦"}):4==o.data.result?void 0:void t.showToast({icon:"none",title:"出错啦，请联系客服"})}t.showToast({icon:"none",title:"出错啦，请联系客服"})},fail:function(){t.showToast({icon:"none",title:"网络错误"})}})}},onReachBottom:function(){console.log(this.pushlist),this.pushlist.length<10?this.loadingType=2:(this.loadingType=1,this.page++,this.getpush(this.page),this.loadingType)},components:{uniLoadMore:i.default},onLoad:function(t){this.lifecat=t.lifecat,this.islogin(),this.getpush(this.page)},onShow:function(){},onUnload:function(){this.totallist=[],this.pushlist=[]}}}).call(e,s(2).default)},157:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(159),n=s.n(o),i=s(160),a=!1;var l=function(t){a||s(158)},r=s(0)(n.a,i.a,l,null,null);r.options.__file="C:\\Users\\Admin\\Desktop\\devFire\\components\\uni-load-more.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] uni-load-more.vue: functional components are not supported with templates, they should use render functions."),e.default=r.exports},158:function(t,e){},159:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}}},160:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"load-more"},[s("view",{directives:[{name:"show",rawName:"v-show",value:1===t.loadingType&&t.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[s("view",{staticClass:"load1"},[s("view",{style:{background:t.color}}),s("view",{style:{background:t.color}}),s("view",{style:{background:t.color}}),s("view",{style:{background:t.color}})]),s("view",{staticClass:"load2"},[s("view",{style:{background:t.color}}),s("view",{style:{background:t.color}}),s("view",{style:{background:t.color}}),s("view",{style:{background:t.color}})]),s("view",{staticClass:"load3"},[s("view",{style:{background:t.color}}),s("view",{style:{background:t.color}}),s("view",{style:{background:t.color}}),s("view",{style:{background:t.color}})])]),s("text",{staticClass:"loading-text",style:{color:t.color}},[t._v(t._s(0===t.loadingType?t.contentText.contentdown:1===t.loadingType?t.contentText.contentrefresh:t.contentText.contentnomore))])])};o._withStripped=!0;var n={render:o,staticRenderFns:[]};e.a=n},161:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"page"},[s("view",{staticClass:"header",staticStyle:{position:"fixed","z-index":"10000"}},[s("view",{staticClass:"header-left",attrs:{eventid:"DL5-0"},on:{tap:t.backs}},[s("text",{staticClass:"icon"},[t._v("")])]),s("view",{staticClass:"header-content"},[t._v("\n\t\t\t任务列表\n\t\t")]),s("view",{staticClass:"header-right"})]),""!=t.totallist?s("view",{staticClass:"list",staticStyle:{"margin-top":"120px"}},[t._l(t.totallist,function(e,o){return s("view",{key:o,staticClass:"item"},[s("view",{staticClass:"item-left",attrs:{eventid:"ZMa-1-"+o},on:{tap:function(s){t.add(e.lifecat,e.pushid)}}},[s("image",{staticClass:"item-left-image",attrs:{src:"../../static/task"+e.lifecat+".png",mode:""}})]),s("view",{staticClass:"item-middle",attrs:{eventid:"LLS-2-"+o},on:{tap:function(s){t.add(e.lifecat,e.pushid)}}},[s("text",{staticClass:"item-name"},[t._v(t._s(e.pushcontent))]),s("text",{staticClass:"item-desc"},[t._v("开始时间:"+t._s(e.starttime))]),s("text",{staticClass:"item-desc"},[t._v("结束时间:"+t._s(e.endtime))])]),s("view",{staticClass:"item-right"},[s("image",{staticClass:"item-right-image",attrs:{src:"../../static/renwu"+e.status+".png",mode:""}}),s("view",{staticClass:"item-btn-warn",attrs:{eventid:"9zp-3-"+o},on:{tap:function(s){t.message(e.pushid)}}},[t._v("详情")])])])}),s("uni-load-more",{attrs:{loadingType:t.loadingType,contentText:t.contentText,mpcomid:"Lfn-0"}})],2):s("view",{staticClass:"msg-box"},[s("image",{staticClass:"msg-img",attrs:{src:"../../static/notrain.png",mode:""}}),s("text",{staticClass:"msg-title"},[t._v("暂无内容")]),s("text",{staticClass:"msg-desc"})])])};o._withStripped=!0;var n={render:o,staticRenderFns:[]};e.a=n}},[153]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/train/msglist.js.map